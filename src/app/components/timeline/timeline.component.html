<div class="container-fluid">
  <div class="row text-center justify-content-center">
    <h1><strong>TiMe!</strong></h1>
    <p>TiMe! Is a simple tool to make a timeline of your most important life events: job career, linkedin timeline job list, books you've read, series you've whatched, university exams end so on..</p>

    <div class="scroll-container" [style.height]="altezza + 'px'">
      <div #timeline id="timesheet"></div>
    </div>
  </div>
  <div class="row text-center">
    <div class="col">
      <ng-container *ngIf="message">
        {{ message }}
      </ng-container>
    </div>
  </div>
</div>

<div class="container mt-5">
  <div class="row text-center">
    <form [formGroup]="timelineForm" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="col-sm-12 form-group form-control-lg">
          <label for="start">Start year</label>
          <input
            id="start"

            type="month"
            formControlName="start"
          />
        </div>
        <div class="col-sm-12 form-group form-control-lg">
          <label for="end">End year</label>
          <input
            id="end"

            type="month"
            formControlName="end"
          />
        </div>
        <div class="col-sm-12 form-group form-control-lg">
          <label for="label">Label</label>
          <input
            id="label"
            type="text"
            formControlName="label"
            placeholder="Write a description, a title, a job..."
          />
        </div>
      </div>
      <div class="row">
        <div class="col">
          <button type="button" class="btn btn-secondary btn-lg" type="submit">
            Add time-line
          </button>
        </div>
        <div *ngIf="data.length && data.length > 0" class="col">
          <button  type="button" class="btn btn-outline-secondary btn-lg">
           <a #downloadLink>Save Timeline as image</a>
          </button>
        </div>
      </div>
    </form>
  </div>

  <ng-container *ngIf="!message">
    <h3 class="mt-5 text-center"><strong>Your timeline data:</strong></h3>
    <ng-container *ngFor="let line of data; let index = index">
      <div class="row justify-content-between">
        <div class="col">
          <strong>Line {{ index }}</strong> <br />
          <span
            >Start: {{ line[0] }} <br />
            End: {{ line[1] }} <br />
            Label: {{ line[2] }} <br />
            Category: {{ line[3] }}</span
          >
        </div>
        <div class="col-3">
          <button
            type="button"
            class="btn btn-outline-secondary"
            (click)="editLine(index)"
          >
            <mat-icon>edit</mat-icon>
          </button>

          <button
            type="button"
            class="btn btn-outline-secondary"
            (click)="deleteLine(index)"
          >
            <mat-icon>delete_outline</mat-icon>
          </button>
        </div>
      </div>
      <mat-divider></mat-divider>
    </ng-container>
  </ng-container>
</div>
