<div class="container-fluid">
  <div class="row text-center">
    <h1 class="mt-5"><strong>TiMe!</strong></h1>
    <div class="col">
      <strong>TiMe!</strong> Is a simple tool to make a timeline of
      <strong>your</strong> most important <strong>life</strong> events: job
      career, books you've read, series you've
      watched, university exams and so on...
    </div>
  </div>
  <div class="row text-center justify-content-center mt-5">
    <div class="scroll-container" [style.height]="altezza + 'px'">
      <div #timeline id="timesheet"></div>
    </div>
  </div>
  <div *ngIf="message" class="row text-center">
    <div class="col">
      <ng-container>
        {{ message }}
      </ng-container>
    </div>
  </div>
</div>

<div class="container ma-5">
  <div class="row text-center">
    <form [formGroup]="timelineForm" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="col">
          <mat-form-field>
            <mat-label for="start">Start year</mat-label>
            <input id="start" matInput type="month" formControlName="start" />
          </mat-form-field>
        </div>

        <div class="col">
          <mat-form-field>
            <mat-label for="end">End year</mat-label>
            <input id="end" matInput type="month" formControlName="end" />
          </mat-form-field>
        </div>

        <div class="col">
          <mat-form-field>
            <mat-label for="label">Label</mat-label>
            <input
              id="label"
              matInput
              type="text"
              formControlName="label"
              placeholder="Write a description, a title, a job..."
            />
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <button type="button" class="btn btn-secondary btn-lg" type="submit">
            Add time-line
          </button>
        </div>
        <div *ngIf="data.length && data.length > 0" class="col">
          <button type="button" class="btn btn-outline-secondary btn-lg">
            <a #downloadLink>Save Timeline as image</a>
          </button>
        </div>
      </div>
    </form>
  </div>

  <ng-container *ngIf="!message">
    <h3 class="mt-5 text-center"><strong>Your timeline data:</strong></h3>
    <ng-container *ngFor="let line of data; let index = index">
      <div class="row justify-content-between">
        <div class="col">
          <strong>Line {{ index }}</strong> <br />
          <span
            >Start: {{ line[0] }} <br />
            End: {{ line[1] }} <br />
            Label: {{ line[2] }} <br />
            Category: {{ line[3] }}</span
          >
        </div>
        <div class="col-3 text-right">
          <button
            type="button"
            class="btn btn-outline-secondary"
            (click)="editLine(index)"
          >
            <mat-icon>edit</mat-icon>
          </button>

          <button
            type="button"
            class="btn btn-outline-secondary"
            (click)="deleteLine(index)"
          >
            <mat-icon>delete_outline</mat-icon>
          </button>
        </div>
      </div>
      <mat-divider></mat-divider>
    </ng-container>
  </ng-container>
</div>
